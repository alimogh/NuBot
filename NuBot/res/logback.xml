<?xml version="1.0" encoding="UTF-8"?>

<configuration>

	<appender name="STDOUT" level="all"
		class="ch.qos.logback.core.ConsoleAppender">

		<encoder>
			<pattern>%d{HH:mm:ss} %logger{36} - %msg%n</pattern>
		</encoder>

    <!--filter class="com.nubits.nubot.webui.JettyLogFilter" />
		-->

	</appender>

    <appender name="allFILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
	  <file>logs/all.log</file>

    <rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
      <fileNamePattern>logs/all.%i.log.zip</fileNamePattern>
      <minIndex>1</minIndex>
      <maxIndex>10</maxIndex>
    </rollingPolicy>

    <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
      <maxFileSize>1MB</maxFileSize>
    </triggeringPolicy>

		<encoder>
			<pattern>%date %logger{36} %level - %msg%n
			</pattern>
			<!-- [%thread] %logger{10} [%file:%line] -->
		</encoder>

<!--    <filter class="ch.qos.logback.core.filter.EvaluatorFilter">
        <evaluator>
            <expression>
              if(logger.startsWith("com.nubits.nubot.tests"))
                return true;
            </expression>
        </evaluator>
        <onMatch>DENY</onMatch>
    </filter>
-->

	</appender>

	<appender name="debugFILE" level="DEBUG" class="ch.qos.logback.core.FileAppender">
		<file>logs/debug.log</file>

		<encoder>
			<pattern>%date  %logger{36} %level - %msg%n
			</pattern>
			<!-- [%thread] %logger{10} [%file:%line] -->
		</encoder>

        <!--
        <logger name="com.nubits.nubot.tests.TestReadCsv" level="INFO" />
        -->
	</appender>

	<appender name="warnFILE" level="WARN" class="ch.qos.logback.core.FileAppender">
		<file>logs/warn.log</file>

		<encoder>
			<pattern>%date %logger{36} %level - %msg%n
			</pattern>
			<!-- [%thread] %logger{10} [%file:%line] -->
		</encoder>

	</appender>

<!--
	<appender name="testFILE" class="ch.qos.logback.core.FileAppender">
      <file>test.log</file>
		<file>logs/NuBot_tests.log</file>

<encoder>
			<pattern>%date %logger{36} %level - %msg%n
			</pattern>
		</encoder>

        <filter class="ch.qos.logback.core.filter.EvaluatorFilter">
        <evaluator>
            <expression>
              if(logger.startsWith("com.nubits.nubot.tests"))
              return true;
            </expression>
        </evaluator>
        <onMatch>ALLOW</onMatch>
        </filter>

	</appender>
-->



  <!--  <logger name="com.nubits.nubot.tests.TestReadCsv" level="DEBUG" />
-->

	<root level="DEBUG">

<!--	  <appender-ref ref="warnFILE" />
      <appender-ref ref="infoFILE" />
-->

      <appender-ref ref="allFILE" />

	  <appender-ref ref="STDOUT" />

	  <appender-ref ref="testFILE" />

	</root>

</configuration>
